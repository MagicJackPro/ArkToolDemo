(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{800:function(e,t,a){"use strict";var n=a(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(0)),r=(0,n(a(22)).default)(i.default.createElement(i.default.Fragment,null,i.default.createElement("path",{d:"M14 7l-5 5 5 5V7z"}),i.default.createElement("path",{fill:"none",d:"M24 0v24H0V0h24z"})),"ArrowLeft");t.default=r},932:function(e,t,a){"use strict";a.r(t);var n=a(90),i=a(86),r=a(35),c=a(88),l=a(87),s=a(89),o=a(0),d=a.n(o),u=a(287),m=a(481),p=a(800),h=a.n(p),v=a(6),f=a(426),g=a(93),x=Object.keys(u.d),y=Object(v.a)({root:{color:"#000"}})(f.a),E=function(e){return parseFloat(e).toFixed(1).replace(/\.?0+$/,"")},k=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(l.a)(t).call(this,e))).data=a.parserInput(e.input),a.state={result:null},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;0!==Object.keys(this.data.required).length?fetch("https://planner.penguin-stats.io/plan/",{method:"post",body:JSON.stringify(this.data)}).then(function(e){return e.json()}).then(function(t){return e.setState({result:e.parserResult(t)})}).catch(function(t){e.setState({result:"\u8fde\u63a5\u4e2d\u65ad\uff0c\u8bf7\u5c1d\u8bd5Export\u540e\u76f4\u63a5\u8bbf\u95eeArkPlanner."})}):this.setState({result:"No Input"})}},{key:"parserInput",value:function(e){var t={};Object.keys(e).filter(function(t){return parseInt(e[t].need)>0}).forEach(function(a){t[u.d[a].name]=e[a].need});var a={};return Object.keys(e).filter(function(t){return parseInt(e[t].have)>0}).forEach(function(t){a[u.d[t].name]=e[t].have}),{required:t,owned:a,exp_demand:this.props.exp_demand,extra_outc:this.props.extra_outc,gold_demand:this.props.gold_demand,exclude:this.props.ban_stage?this.props.exclude:[],store:!1}}},{key:"parserResult",value:function(e){var t=e.stages.map(function(e){var t=Object.keys(e.items).map(function(t){return{id:x.find(function(e){return u.d[e].name===t}),count:e.items[t]}}).sort(function(e,t){return u.d[t.id].rarity===u.d[e.id].rarity?t.count-e.count:u.d[t.id].rarity-u.d[e.id].rarity});return Object(n.a)({},e,{items:t})}),a=e.syntheses.map(function(e){var t=x.find(function(t){return u.d[t].name===e.target}),a=Object(m.c)(t,e.count);return{target:t,count:e.count,goldCost:a.goldCost,cost:a.cost}}),i=0;t.forEach(function(e){i+=parseFloat(e.count)});var r=0;return a.forEach(function(e){r+=e.goldCost}),Object(g.a)({category:"Calculator",action:"Fetch",value:e.cost}),{apCost:e.cost,battle:i.toFixed(0),stages:t,syntheses:a,goldCost:r,gold:e.gold,exp:e.exp}}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.icon;return null===this.state.result&&d.a.createElement("div",{className:t.loading},d.a.createElement(y,null))||d.a.createElement("div",{className:t.root},this.state.result&&this.state.result.hasOwnProperty("apCost")&&d.a.createElement("div",null,d.a.createElement("div",null,"\u7406\u667a\u6d88\u8017\u671f\u671b: ".concat(E(this.state.result.apCost))),d.a.createElement("div",null,"\u5176\u4ed6\u6536\u76ca: ".concat(E(this.state.result.gold),"\u9f99\u95e8\u5e01 & ").concat(E(this.state.result.exp),"\u4f5c\u6218\u8bb0\u5f55")),d.a.createElement("div",null,"\u5408\u6210\u82b1\u8d39: ".concat(E(this.state.result.goldCost),"\u9f99\u95e8\u5e01")),d.a.createElement("div",null,"\u4f5c\u6218(\u5171\u8ba1".concat(E(this.state.result.battle),"\u6b21):")),d.a.createElement("div",null,this.state.result.stages.map(function(e){return d.a.createElement("div",{key:"div-row-".concat(e.stage),className:t.row},d.a.createElement("div",{className:[a?t.alignDiv:null,t.link].join(" ")},e.stage),d.a.createElement("div",{className:a?t.alignDiv:null},"".concat(E(e.count),"\u6b21")),d.a.createElement("div",{className:t.flexWrap},e.items.map(function(e){return d.a.createElement("div",{key:"div-inner-".concat(e.id),className:t.inner},a?[d.a.createElement(u.a,{key:"i-".concat(e.id),size:40,id:e.id}),d.a.createElement("div",{key:"count-".concat(e.id)},"".concat(E(e.count)))]:u.d[e.id].name+" x"+E(e.count))})))})),this.state.result.syntheses.length>0&&d.a.createElement("div",null,d.a.createElement("div",null," \u5408\u6210\u5217\u8868:"),d.a.createElement("div",null,this.state.result.syntheses.map(function(e){return d.a.createElement("div",{key:"target-".concat(e.target),className:t.synthesesRow},d.a.createElement("div",{className:a?t.inner:t.long},a?[d.a.createElement(u.a,{key:"i-".concat(e.id),size:40,id:e.target}),d.a.createElement("div",{key:"count-".concat(e.id)},"x".concat(E(e.count)))]:u.d[e.target].name+" x"+E(e.count)),d.a.createElement("div",{className:a?t.alignArrow:null},d.a.createElement(h.a,null)),Object.keys(e.cost).map(function(n){return d.a.createElement("div",{key:"div-inner-".concat(n),className:t.inner},a?[d.a.createElement(u.a,{key:"cost-i-".concat(n),size:40,id:n}),d.a.createElement("div",{key:"cost-count-".concat(n)},"x".concat(E(e.cost[n])))]:u.d[n].name+" x"+E(e.cost[n]))}))}))))||d.a.createElement("div",{className:t.loading},this.state.result))}}]),t}(d.a.Component);t.default=Object(v.a)(function(e){return{root:{"& div":{fontSize:"14px"},"&>div>div":{marginBottom:"10px"}},loading:{margin:"auto",display:"flex",width:"100%",height:"50px",justifyContent:"center",alignItems:"center","&>div":{margin:"auto"}},inner:{display:"flex",flexDirection:"column",alignItems:"center",marginRight:"10px",whiterSpace:"nowrap","&>div":{marginRight:"5px"}},row:{display:"flex",alignItems:"top","&>div:nth-child(1)":{width:"40px",flexShrink:0},"&>div:nth-child(2)":{width:"55px",flexShrink:0}},alignDiv:{marginTop:"10px"},synthesesRow:{display:"flex",alignItems:"center","&>div:nth-child(1)":{width:"30px"},"&>div:nth-child(2)":{width:"24px",display:"flex",alignItems:"center"}},long:{width:"120px !important"},alignArrow:{padding:"3px 0 23px 0",marginRight:"10px"},flexWrap:{display:"flex",flexWrap:"wrap",marginBottom:"10px"},link:{marginBottom:"20px",verticalAlign:"baseline","& a, a:link, a:visited":{color:"#606266",textDecoration:"none"},"& a, a:hover, a:active":{textDecoration:"underline"}}}})(k)}}]);