(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{804:function(e,t,a){"use strict";var n=a(14);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),i=(0,n(a(18)).default)(r.default.createElement(r.default.Fragment,null,r.default.createElement("path",{d:"M14 7l-5 5 5 5V7z"}),r.default.createElement("path",{fill:"none",d:"M24 0v24H0V0h24z"})),"ArrowLeft");t.default=i},936:function(e,t,a){"use strict";a.r(t);var n=a(36),r=a(73),i=a(33),l=a(76),s=a(74),c=a(75),o=a(0),u=a.n(o),d=a(286),m=a(477),p=a(804),h=a.n(p),f=a(5),v=a(182),g=a(78),x=Object.keys(d.d),y=function(e){return parseFloat(e).toFixed(1).replace(/\.?0+$/,"")},E=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).data=a.parserInput(e.input),a.state={result:null},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;0!==Object.keys(this.data.required).length?fetch("https://planner.penguin-stats.io/plan/",{method:"post",body:JSON.stringify(this.data)}).then(function(e){return e.json()}).then(function(t){return e.setState({result:e.parserResult(t)})}).catch(function(t){e.setState({result:"\u8fde\u63a5\u4e2d\u65ad\uff0c\u8bf7\u5c1d\u8bd5Export\u540e\u76f4\u63a5\u8bbf\u95eeArkPlanner."})}):this.setState({result:"No Input"})}},{key:"parserInput",value:function(e){var t={};Object.keys(e).filter(function(t){return parseInt(e[t].need)>0}).forEach(function(a){t[d.d[a].name]=e[a].need});var a={};return Object.keys(e).filter(function(t){return parseInt(e[t].have)>0}).forEach(function(t){a[d.d[t].name]=e[t].have}),{required:t,owned:a,exp_demand:this.props.exp_demand,extra_outc:this.props.extra_outc,gold_demand:this.props.gold_demand,exclude:this.props.ban_stage?this.props.exclude:[],store:!1}}},{key:"parserResult",value:function(e){var t=e.stages.map(function(e){var t=Object.keys(e.items).map(function(t){return{id:x.find(function(e){return d.d[e].name===t}),count:e.items[t]}}).sort(function(e,t){return d.d[t.id].rarity===d.d[e.id].rarity?t.count-e.count:d.d[t.id].rarity-d.d[e.id].rarity});return Object(n.a)({},e,{items:t})}),a=e.syntheses.map(function(e){var t=x.find(function(t){return d.d[t].name===e.target}),a=Object(m.c)(t,e.count);return{target:t,count:e.count,goldCost:a.goldCost,cost:a.cost}}).filter(function(e){return e.target}),r=0;t.forEach(function(e){r+=parseFloat(e.count)});var i=0;return a.forEach(function(e){i+=e.goldCost}),Object(g.a)({category:"Calculator",action:"Fetch",value:e.cost}),{apCost:e.cost,battle:r.toFixed(0),stages:t,syntheses:a,goldCost:i,gold:e.gold,exp:e.exp}}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.icon;return null===this.state.result&&u.a.createElement("div",{className:t.loading},u.a.createElement(v.a,{color:"secondary"}))||u.a.createElement("div",{className:t.root},this.state.result&&this.state.result.hasOwnProperty("apCost")&&u.a.createElement("div",null,u.a.createElement("div",null,"\u7406\u667a\u6d88\u8017\u671f\u671b: ".concat(y(this.state.result.apCost))),u.a.createElement("div",null,"\u5176\u4ed6\u6536\u76ca: ".concat(y(this.state.result.gold),"\u9f99\u95e8\u5e01 & ").concat(y(this.state.result.exp),"\u4f5c\u6218\u8bb0\u5f55")),u.a.createElement("div",null,"\u5408\u6210\u82b1\u8d39: ".concat(y(this.state.result.goldCost),"\u9f99\u95e8\u5e01")),u.a.createElement("div",null,"\u4f5c\u6218(\u5171\u8ba1".concat(y(this.state.result.battle),"\u6b21):")),u.a.createElement("div",null,this.state.result.stages.map(function(e){return u.a.createElement("div",{key:"div-row-".concat(e.stage),className:t.row},u.a.createElement("div",{className:[a?t.alignDiv:null,t.link].join(" ")},e.stage),u.a.createElement("div",{className:a?t.alignDiv:null},"".concat(y(e.count),"\u6b21")),u.a.createElement("div",{className:t.flexWrap},e.items.map(function(e){return u.a.createElement("div",{key:"div-inner-".concat(e.id),className:t.inner},a?[u.a.createElement(d.a,{key:"i-".concat(e.id),size:40,id:e.id}),u.a.createElement("div",{key:"count-".concat(e.id)},"".concat(y(e.count)))]:d.d[e.id].name+" x"+y(e.count))})))})),this.state.result.syntheses.length>0&&u.a.createElement("div",null,u.a.createElement("div",null," \u5408\u6210\u5217\u8868:"),u.a.createElement("div",null,this.state.result.syntheses.map(function(e,n){return u.a.createElement("div",{key:n,className:t.synthesesRow},u.a.createElement("div",{className:a?t.inner:t.long},a&&u.a.createElement(u.a.Fragment,null,u.a.createElement(d.a,{size:40,id:e.target}),u.a.createElement("div",null,"x".concat(y(e.count)))),!a&&d.d[e.target].name+" x"+y(e.count)),u.a.createElement("div",{className:a?t.alignArrow:null},u.a.createElement(h.a,null)),e.cost&&Object.keys(e.cost).map(function(n,r){return u.a.createElement("div",{key:r,className:t.inner},a&&u.a.createElement(u.a.Fragment,null,u.a.createElement(d.a,{size:40,id:n}),u.a.createElement("div",null,"x".concat(y(e.cost[n])))),!a&&d.d[n].name+" x"+y(e.cost[n]))}))}))))||u.a.createElement("div",{className:t.loading},this.state.result))}}]),t}(u.a.Component);t.default=Object(f.a)(function(e){return{root:{"& div":{fontSize:"14px"},"&>div>div":{marginBottom:"10px"}},loading:{margin:"auto",display:"flex",width:"100%",height:"50px",justifyContent:"center",alignItems:"center","&>div":{margin:"auto"}},inner:{display:"flex",flexDirection:"column",alignItems:"center",marginRight:"10px",whiterSpace:"nowrap","&>div":{marginRight:"5px"}},row:{display:"flex",alignItems:"top","&>div:nth-child(1)":{width:"40px",flexShrink:0},"&>div:nth-child(2)":{width:"55px",flexShrink:0}},alignDiv:{marginTop:"10px"},synthesesRow:{display:"flex",alignItems:"center","&>div:nth-child(1)":{width:"30px"},"&>div:nth-child(2)":{width:"24px",display:"flex",alignItems:"center"}},long:{width:"120px !important"},alignArrow:{padding:"3px 0 23px 0",marginRight:"10px"},flexWrap:{display:"flex",flexWrap:"wrap",marginBottom:"10px"},link:{marginBottom:"20px",verticalAlign:"baseline","& a, a:link, a:visited":{color:"#606266",textDecoration:"none"},"& a, a:hover, a:active":{textDecoration:"underline"}}}})(E)}}]);